import{j as e,a as p,r as h,H as u}from"./index-BEysmW8P.js";import{C as g}from"./CharacterCard-ChM5Of2b.js";import{L as b}from"./LoadingSpinner-BqnJ_EwY.js";import"./badge-UkMWPaDZ.js";const j=({characters:o})=>e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:o.map((n,l)=>e.jsx(g,{character:n,index:l},n.id))}),y=({filters:o,onFilterChange:n})=>{const l=d=>{const{name:s,value:m}=d.target;n({...o,[s]:m})};return e.jsx("div",{className:"mb-8 bg-gray-800 rounded-lg p-6 shadow-lg",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-300 mb-2",children:"Buscar por nombre"}),e.jsx("input",{type:"text",id:"search",name:"search",placeholder:"Nombre o descripción...",value:o.search,onChange:l,className:`w-full p-2 bg-gray-700 border border-gray-600 rounded-md 
              text-white placeholder-gray-400 focus:ring-2 focus:ring-brainrot-turquoise 
              focus:border-transparent`})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"sortBy",className:"block text-sm font-medium text-gray-300 mb-2",children:"Ordenar por"}),e.jsxs("select",{id:"sortBy",name:"sortBy",value:o.sortBy,onChange:l,className:`w-full p-2 bg-gray-700 border border-gray-600 rounded-md 
              text-white focus:ring-2 focus:ring-brainrot-turquoise 
              focus:border-transparent`,children:[e.jsx("option",{value:"name",children:"Nombre (A-Z)"}),e.jsx("option",{value:"power",children:"Poder (Mayor-Menor)"}),e.jsx("option",{value:"votes",children:"Popularidad (Votos)"}),e.jsx("option",{value:"recent",children:"Más recientes"})]})]})]})})},w=()=>{const{characters:o,loading:n}=p(),[l,d]=h.useState([]),[s,m]=h.useState({type:"all",search:"",sortBy:"name",sortOrder:"popularity"});h.useEffect(()=>{if(n)return;let t=[...o];if(s.type!=="all"&&(t=t.filter(r=>r.type.toLowerCase()===s.type.toLowerCase())),s.search){const r=s.search.toLowerCase();t=t.filter(a=>{var i;return a.name.toLowerCase().includes(r)||((i=a.description)==null?void 0:i.toLowerCase().includes(r))})}switch(s.sortOrder){case"recent":t.sort((r,a)=>a.id>r.id?1:-1);break;case"popularity":t.sort((r,a)=>{var i,c;return(((i=a.votes)==null?void 0:i.length)||0)-(((c=r.votes)==null?void 0:c.length)||0)});break;case"alphabetical":t.sort((r,a)=>r.name.localeCompare(a.name));break}if(s.sortOrder==="popularity"&&s.sortBy!=="votes"||s.sortOrder==="alphabetical"&&s.sortBy!=="name"||s.sortOrder==="recent"&&s.sortBy!=="recent")switch(s.sortBy){case"votes":t.sort((r,a)=>{var i,c;return(((i=a.votes)==null?void 0:i.length)||0)-(((c=r.votes)==null?void 0:c.length)||0)});break;case"power":t.sort((r,a)=>(a.power||0)-(r.power||0));break;case"name":t.sort((r,a)=>r.name.localeCompare(a.name));break;case"recent":t.sort((r,a)=>a.id>r.id?1:-1);break}d(t)},[o,s,n]);const x=t=>{m(t)};return e.jsxs(e.Fragment,{children:[e.jsxs(u,{children:[e.jsx("title",{children:"Personajes | Universo Bombardino"}),e.jsx("meta",{name:"description",content:"Explora todos los personajes del universo Bombardino. Descubre héroes, villanos y aliados con sus historias y habilidades."})]}),e.jsxs("div",{className:"container mx-auto py-12 px-4",children:[e.jsxs("div",{className:"mb-12 text-center",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:["Personajes ",e.jsx("span",{className:"text-brainrot-turquoise",children:"Bombardino"})]}),e.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Explora todos los personajes del universo Bombardino. Descubre sus historias, habilidades y relaciones con otros personajes."})]}),e.jsx(y,{filters:s,onFilterChange:x}),n?e.jsx("div",{className:"flex justify-center items-center min-h-[50vh]",children:e.jsx(b,{size:"lg"})}):l.length>0?e.jsx(j,{characters:l}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"No se encontraron personajes"}),e.jsx("p",{className:"text-gray-400",children:"No hay personajes que coincidan con los criterios de búsqueda. Intenta con otros filtros."})]})]})]})};export{w as default};
