import{c as pe,r as o,j as e,n as G,w as jt,b as It,x as De,d as W,y as Tt,P as B,e as M,z as q,C as Le,S as Pt,D as Rt,E as Et,l as Te,F as _t,V as Mt,G as At,h as Dt,k as Re,I as Lt,a as kt,u as ke,v as Ot,B as Ee,J as re,N as Bt}from"./index-BEysmW8P.js";import{I as ae,L as Vt}from"./input-k5NAxL6q.js";import{L as ee}from"./label-C50fu6bF.js";import{u as Ft,T as Ht,a as Ut,b as _e,c as Me}from"./tabs-DA7ggta7.js";import{h as Wt,u as Kt,R as $t,F as Gt,L as zt}from"./index-DVQFJHiT.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Be=o.forwardRef(({className:r,...n},t)=>e.jsx("textarea",{className:G("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...n}));Be.displayName="Textarea";function Ae(r,[n,t]){return Math.min(t,Math.max(n,r))}function Xt(r){const n=o.useRef({value:r,previous:r});return o.useMemo(()=>(n.current.value!==r&&(n.current.previous=n.current.value,n.current.value=r),n.current.previous),[r])}var Zt=[" ","Enter","ArrowUp","ArrowDown"],Qt=[" ","Enter"],ie="Select",[me,fe,eo]=jt(ie),[ne,Lo]=It(ie,[eo,De]),he=De(),[to,Y]=ne(ie),[oo,ro]=ne(ie),Ve=r=>{const{__scopeSelect:n,children:t,open:s,defaultOpen:c,onOpenChange:p,value:i,defaultValue:l,onValueChange:a,dir:d,name:v,autoComplete:S,disabled:T,required:I,form:N}=r,u=he(n),[g,w]=o.useState(null),[m,f]=o.useState(null),[L,_]=o.useState(!1),X=Ft(d),[E=!1,O]=Re({prop:s,defaultProp:c,onChange:p}),[V,K]=Re({prop:i,defaultProp:l,onChange:a}),F=o.useRef(null),H=g?N||!!g.closest("form"):!0,[x,P]=o.useState(new Set),A=Array.from(x).map(R=>R.props.value).join(";");return e.jsx(Lt,{...u,children:e.jsxs(to,{required:I,scope:n,trigger:g,onTriggerChange:w,valueNode:m,onValueNodeChange:f,valueNodeHasChildren:L,onValueNodeHasChildrenChange:_,contentId:Te(),value:V,onValueChange:K,open:E,onOpenChange:O,dir:X,triggerPointerDownPosRef:F,disabled:T,children:[e.jsx(me.Provider,{scope:n,children:e.jsx(oo,{scope:r.__scopeSelect,onNativeOptionAdd:o.useCallback(R=>{P(D=>new Set(D).add(R))},[]),onNativeOptionRemove:o.useCallback(R=>{P(D=>{const $=new Set(D);return $.delete(R),$})},[]),children:t})}),H?e.jsxs(dt,{"aria-hidden":!0,required:I,tabIndex:-1,name:v,autoComplete:S,value:V,onChange:R=>K(R.target.value),disabled:T,form:N,children:[V===void 0?e.jsx("option",{value:""}):null,Array.from(x)]},A):null]})})};Ve.displayName=ie;var Fe="SelectTrigger",He=o.forwardRef((r,n)=>{const{__scopeSelect:t,disabled:s=!1,...c}=r,p=he(t),i=Y(Fe,t),l=i.disabled||s,a=W(n,i.onTriggerChange),d=fe(t),v=o.useRef("touch"),[S,T,I]=ut(u=>{const g=d().filter(f=>!f.disabled),w=g.find(f=>f.value===i.value),m=pt(g,u,w);m!==void 0&&i.onValueChange(m.value)}),N=u=>{l||(i.onOpenChange(!0),I()),u&&(i.triggerPointerDownPosRef.current={x:Math.round(u.pageX),y:Math.round(u.pageY)})};return e.jsx(Tt,{asChild:!0,...p,children:e.jsx(B.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":ct(i.value)?"":void 0,...c,ref:a,onClick:M(c.onClick,u=>{u.currentTarget.focus(),v.current!=="mouse"&&N(u)}),onPointerDown:M(c.onPointerDown,u=>{v.current=u.pointerType;const g=u.target;g.hasPointerCapture(u.pointerId)&&g.releasePointerCapture(u.pointerId),u.button===0&&u.ctrlKey===!1&&u.pointerType==="mouse"&&(N(u),u.preventDefault())}),onKeyDown:M(c.onKeyDown,u=>{const g=S.current!=="";!(u.ctrlKey||u.altKey||u.metaKey)&&u.key.length===1&&T(u.key),!(g&&u.key===" ")&&Zt.includes(u.key)&&(N(),u.preventDefault())})})})});He.displayName=Fe;var Ue="SelectValue",We=o.forwardRef((r,n)=>{const{__scopeSelect:t,className:s,style:c,children:p,placeholder:i="",...l}=r,a=Y(Ue,t),{onValueNodeHasChildrenChange:d}=a,v=p!==void 0,S=W(n,a.onValueNodeChange);return q(()=>{d(v)},[d,v]),e.jsx(B.span,{...l,ref:S,style:{pointerEvents:"none"},children:ct(a.value)?e.jsx(e.Fragment,{children:i}):p})});We.displayName=Ue;var no="SelectIcon",Ke=o.forwardRef((r,n)=>{const{__scopeSelect:t,children:s,...c}=r;return e.jsx(B.span,{"aria-hidden":!0,...c,ref:n,children:s||"▼"})});Ke.displayName=no;var so="SelectPortal",$e=r=>e.jsx(Dt,{asChild:!0,...r});$e.displayName=so;var te="SelectContent",Ge=o.forwardRef((r,n)=>{const t=Y(te,r.__scopeSelect),[s,c]=o.useState();if(q(()=>{c(new DocumentFragment)},[]),!t.open){const p=s;return p?Le.createPortal(e.jsx(ze,{scope:r.__scopeSelect,children:e.jsx(me.Slot,{scope:r.__scopeSelect,children:e.jsx("div",{children:r.children})})}),p):null}return e.jsx(qe,{...r,ref:n})});Ge.displayName=te;var U=10,[ze,J]=ne(te),ao="SelectContentImpl",qe=o.forwardRef((r,n)=>{const{__scopeSelect:t,position:s="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:p,onPointerDownOutside:i,side:l,sideOffset:a,align:d,alignOffset:v,arrowPadding:S,collisionBoundary:T,collisionPadding:I,sticky:N,hideWhenDetached:u,avoidCollisions:g,...w}=r,m=Y(te,t),[f,L]=o.useState(null),[_,X]=o.useState(null),E=W(n,h=>L(h)),[O,V]=o.useState(null),[K,F]=o.useState(null),H=fe(t),[x,P]=o.useState(!1),A=o.useRef(!1);o.useEffect(()=>{if(f)return Wt(f)},[f]),Kt();const R=o.useCallback(h=>{const[j,...k]=H().map(y=>y.ref.current),[C]=k.slice(-1),b=document.activeElement;for(const y of h)if(y===b||(y==null||y.scrollIntoView({block:"nearest"}),y===j&&_&&(_.scrollTop=0),y===C&&_&&(_.scrollTop=_.scrollHeight),y==null||y.focus(),document.activeElement!==b))return},[H,_]),D=o.useCallback(()=>R([O,f]),[R,O,f]);o.useEffect(()=>{x&&D()},[x,D]);const{onOpenChange:$,triggerPointerDownPosRef:z}=m;o.useEffect(()=>{if(f){let h={x:0,y:0};const j=C=>{var b,y;h={x:Math.abs(Math.round(C.pageX)-(((b=z.current)==null?void 0:b.x)??0)),y:Math.abs(Math.round(C.pageY)-(((y=z.current)==null?void 0:y.y)??0))}},k=C=>{h.x<=10&&h.y<=10?C.preventDefault():f.contains(C.target)||$(!1),document.removeEventListener("pointermove",j),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",j),document.addEventListener("pointerup",k,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",j),document.removeEventListener("pointerup",k,{capture:!0})}}},[f,$,z]),o.useEffect(()=>{const h=()=>$(!1);return window.addEventListener("blur",h),window.addEventListener("resize",h),()=>{window.removeEventListener("blur",h),window.removeEventListener("resize",h)}},[$]);const[ge,ce]=ut(h=>{const j=H().filter(b=>!b.disabled),k=j.find(b=>b.ref.current===document.activeElement),C=pt(j,h,k);C&&setTimeout(()=>C.ref.current.focus())}),xe=o.useCallback((h,j,k)=>{const C=!A.current&&!k;(m.value!==void 0&&m.value===j||C)&&(V(h),C&&(A.current=!0))},[m.value]),ve=o.useCallback(()=>f==null?void 0:f.focus(),[f]),oe=o.useCallback((h,j,k)=>{const C=!A.current&&!k;(m.value!==void 0&&m.value===j||C)&&F(h)},[m.value]),de=s==="popper"?ye:Ye,se=de===ye?{side:l,sideOffset:a,align:d,alignOffset:v,arrowPadding:S,collisionBoundary:T,collisionPadding:I,sticky:N,hideWhenDetached:u,avoidCollisions:g}:{};return e.jsx(ze,{scope:t,content:f,viewport:_,onViewportChange:X,itemRefCallback:xe,selectedItem:O,onItemLeave:ve,itemTextRefCallback:oe,focusSelectedItem:D,selectedItemText:K,position:s,isPositioned:x,searchRef:ge,children:e.jsx($t,{as:Pt,allowPinchZoom:!0,children:e.jsx(Gt,{asChild:!0,trapped:m.open,onMountAutoFocus:h=>{h.preventDefault()},onUnmountAutoFocus:M(c,h=>{var j;(j=m.trigger)==null||j.focus({preventScroll:!0}),h.preventDefault()}),children:e.jsx(Rt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:p,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:()=>m.onOpenChange(!1),children:e.jsx(de,{role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:h=>h.preventDefault(),...w,...se,onPlaced:()=>P(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:M(w.onKeyDown,h=>{const j=h.ctrlKey||h.altKey||h.metaKey;if(h.key==="Tab"&&h.preventDefault(),!j&&h.key.length===1&&ce(h.key),["ArrowUp","ArrowDown","Home","End"].includes(h.key)){let C=H().filter(b=>!b.disabled).map(b=>b.ref.current);if(["ArrowUp","End"].includes(h.key)&&(C=C.slice().reverse()),["ArrowUp","ArrowDown"].includes(h.key)){const b=h.target,y=C.indexOf(b);C=C.slice(y+1)}setTimeout(()=>R(C)),h.preventDefault()}})})})})})})});qe.displayName=ao;var lo="SelectItemAlignedPosition",Ye=o.forwardRef((r,n)=>{const{__scopeSelect:t,onPlaced:s,...c}=r,p=Y(te,t),i=J(te,t),[l,a]=o.useState(null),[d,v]=o.useState(null),S=W(n,E=>v(E)),T=fe(t),I=o.useRef(!1),N=o.useRef(!0),{viewport:u,selectedItem:g,selectedItemText:w,focusSelectedItem:m}=i,f=o.useCallback(()=>{if(p.trigger&&p.valueNode&&l&&d&&u&&g&&w){const E=p.trigger.getBoundingClientRect(),O=d.getBoundingClientRect(),V=p.valueNode.getBoundingClientRect(),K=w.getBoundingClientRect();if(p.dir!=="rtl"){const b=K.left-O.left,y=V.left-b,Z=E.left-y,Q=E.width+Z,Se=Math.max(Q,O.width),we=window.innerWidth-U,be=Ae(y,[U,Math.max(U,we-Se)]);l.style.minWidth=Q+"px",l.style.left=be+"px"}else{const b=O.right-K.right,y=window.innerWidth-V.right-b,Z=window.innerWidth-E.right-y,Q=E.width+Z,Se=Math.max(Q,O.width),we=window.innerWidth-U,be=Ae(y,[U,Math.max(U,we-Se)]);l.style.minWidth=Q+"px",l.style.right=be+"px"}const F=T(),H=window.innerHeight-U*2,x=u.scrollHeight,P=window.getComputedStyle(d),A=parseInt(P.borderTopWidth,10),R=parseInt(P.paddingTop,10),D=parseInt(P.borderBottomWidth,10),$=parseInt(P.paddingBottom,10),z=A+R+x+$+D,ge=Math.min(g.offsetHeight*5,z),ce=window.getComputedStyle(u),xe=parseInt(ce.paddingTop,10),ve=parseInt(ce.paddingBottom,10),oe=E.top+E.height/2-U,de=H-oe,se=g.offsetHeight/2,h=g.offsetTop+se,j=A+R+h,k=z-j;if(j<=oe){const b=F.length>0&&g===F[F.length-1].ref.current;l.style.bottom="0px";const y=d.clientHeight-u.offsetTop-u.offsetHeight,Z=Math.max(de,se+(b?ve:0)+y+D),Q=j+Z;l.style.height=Q+"px"}else{const b=F.length>0&&g===F[0].ref.current;l.style.top="0px";const Z=Math.max(oe,A+u.offsetTop+(b?xe:0)+se)+k;l.style.height=Z+"px",u.scrollTop=j-oe+u.offsetTop}l.style.margin=`${U}px 0`,l.style.minHeight=ge+"px",l.style.maxHeight=H+"px",s==null||s(),requestAnimationFrame(()=>I.current=!0)}},[T,p.trigger,p.valueNode,l,d,u,g,w,p.dir,s]);q(()=>f(),[f]);const[L,_]=o.useState();q(()=>{d&&_(window.getComputedStyle(d).zIndex)},[d]);const X=o.useCallback(E=>{E&&N.current===!0&&(f(),m==null||m(),N.current=!1)},[f,m]);return e.jsx(co,{scope:t,contentWrapper:l,shouldExpandOnScrollRef:I,onScrollButtonChange:X,children:e.jsx("div",{ref:a,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:L},children:e.jsx(B.div,{...c,ref:S,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});Ye.displayName=lo;var io="SelectPopperPosition",ye=o.forwardRef((r,n)=>{const{__scopeSelect:t,align:s="start",collisionPadding:c=U,...p}=r,i=he(t);return e.jsx(Et,{...i,...p,ref:n,align:s,collisionPadding:c,style:{boxSizing:"border-box",...p.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ye.displayName=io;var[co,Pe]=ne(te,{}),Ce="SelectViewport",Je=o.forwardRef((r,n)=>{const{__scopeSelect:t,nonce:s,...c}=r,p=J(Ce,t),i=Pe(Ce,t),l=W(n,p.onViewportChange),a=o.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),e.jsx(me.Slot,{scope:t,children:e.jsx(B.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...c.style},onScroll:M(c.onScroll,d=>{const v=d.currentTarget,{contentWrapper:S,shouldExpandOnScrollRef:T}=i;if(T!=null&&T.current&&S){const I=Math.abs(a.current-v.scrollTop);if(I>0){const N=window.innerHeight-U*2,u=parseFloat(S.style.minHeight),g=parseFloat(S.style.height),w=Math.max(u,g);if(w<N){const m=w+I,f=Math.min(N,m),L=m-f;S.style.height=f+"px",S.style.bottom==="0px"&&(v.scrollTop=L>0?L:0,S.style.justifyContent="flex-end")}}}a.current=v.scrollTop})})})]})});Je.displayName=Ce;var Xe="SelectGroup",[uo,po]=ne(Xe),mo=o.forwardRef((r,n)=>{const{__scopeSelect:t,...s}=r,c=Te();return e.jsx(uo,{scope:t,id:c,children:e.jsx(B.div,{role:"group","aria-labelledby":c,...s,ref:n})})});mo.displayName=Xe;var Ze="SelectLabel",Qe=o.forwardRef((r,n)=>{const{__scopeSelect:t,...s}=r,c=po(Ze,t);return e.jsx(B.div,{id:c.id,...s,ref:n})});Qe.displayName=Ze;var ue="SelectItem",[fo,et]=ne(ue),tt=o.forwardRef((r,n)=>{const{__scopeSelect:t,value:s,disabled:c=!1,textValue:p,...i}=r,l=Y(ue,t),a=J(ue,t),d=l.value===s,[v,S]=o.useState(p??""),[T,I]=o.useState(!1),N=W(n,m=>{var f;return(f=a.itemRefCallback)==null?void 0:f.call(a,m,s,c)}),u=Te(),g=o.useRef("touch"),w=()=>{c||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(fo,{scope:t,value:s,disabled:c,textId:u,isSelected:d,onItemTextChange:o.useCallback(m=>{S(f=>f||((m==null?void 0:m.textContent)??"").trim())},[]),children:e.jsx(me.ItemSlot,{scope:t,value:s,disabled:c,textValue:v,children:e.jsx(B.div,{role:"option","aria-labelledby":u,"data-highlighted":T?"":void 0,"aria-selected":d&&T,"data-state":d?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...i,ref:N,onFocus:M(i.onFocus,()=>I(!0)),onBlur:M(i.onBlur,()=>I(!1)),onClick:M(i.onClick,()=>{g.current!=="mouse"&&w()}),onPointerUp:M(i.onPointerUp,()=>{g.current==="mouse"&&w()}),onPointerDown:M(i.onPointerDown,m=>{g.current=m.pointerType}),onPointerMove:M(i.onPointerMove,m=>{var f;g.current=m.pointerType,c?(f=a.onItemLeave)==null||f.call(a):g.current==="mouse"&&m.currentTarget.focus({preventScroll:!0})}),onPointerLeave:M(i.onPointerLeave,m=>{var f;m.currentTarget===document.activeElement&&((f=a.onItemLeave)==null||f.call(a))}),onKeyDown:M(i.onKeyDown,m=>{var L;((L=a.searchRef)==null?void 0:L.current)!==""&&m.key===" "||(Qt.includes(m.key)&&w(),m.key===" "&&m.preventDefault())})})})})});tt.displayName=ue;var le="SelectItemText",ot=o.forwardRef((r,n)=>{const{__scopeSelect:t,className:s,style:c,...p}=r,i=Y(le,t),l=J(le,t),a=et(le,t),d=ro(le,t),[v,S]=o.useState(null),T=W(n,w=>S(w),a.onItemTextChange,w=>{var m;return(m=l.itemTextRefCallback)==null?void 0:m.call(l,w,a.value,a.disabled)}),I=v==null?void 0:v.textContent,N=o.useMemo(()=>e.jsx("option",{value:a.value,disabled:a.disabled,children:I},a.value),[a.disabled,a.value,I]),{onNativeOptionAdd:u,onNativeOptionRemove:g}=d;return q(()=>(u(N),()=>g(N)),[u,g,N]),e.jsxs(e.Fragment,{children:[e.jsx(B.span,{id:a.textId,...p,ref:T}),a.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Le.createPortal(p.children,i.valueNode):null]})});ot.displayName=le;var rt="SelectItemIndicator",nt=o.forwardRef((r,n)=>{const{__scopeSelect:t,...s}=r;return et(rt,t).isSelected?e.jsx(B.span,{"aria-hidden":!0,...s,ref:n}):null});nt.displayName=rt;var Ne="SelectScrollUpButton",st=o.forwardRef((r,n)=>{const t=J(Ne,r.__scopeSelect),s=Pe(Ne,r.__scopeSelect),[c,p]=o.useState(!1),i=W(n,s.onScrollButtonChange);return q(()=>{if(t.viewport&&t.isPositioned){let l=function(){const d=a.scrollTop>0;p(d)};const a=t.viewport;return l(),a.addEventListener("scroll",l),()=>a.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),c?e.jsx(lt,{...r,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:a}=t;l&&a&&(l.scrollTop=l.scrollTop-a.offsetHeight)}}):null});st.displayName=Ne;var je="SelectScrollDownButton",at=o.forwardRef((r,n)=>{const t=J(je,r.__scopeSelect),s=Pe(je,r.__scopeSelect),[c,p]=o.useState(!1),i=W(n,s.onScrollButtonChange);return q(()=>{if(t.viewport&&t.isPositioned){let l=function(){const d=a.scrollHeight-a.clientHeight,v=Math.ceil(a.scrollTop)<d;p(v)};const a=t.viewport;return l(),a.addEventListener("scroll",l),()=>a.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),c?e.jsx(lt,{...r,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:a}=t;l&&a&&(l.scrollTop=l.scrollTop+a.offsetHeight)}}):null});at.displayName=je;var lt=o.forwardRef((r,n)=>{const{__scopeSelect:t,onAutoScroll:s,...c}=r,p=J("SelectScrollButton",t),i=o.useRef(null),l=fe(t),a=o.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return o.useEffect(()=>()=>a(),[a]),q(()=>{var v;const d=l().find(S=>S.ref.current===document.activeElement);(v=d==null?void 0:d.ref.current)==null||v.scrollIntoView({block:"nearest"})},[l]),e.jsx(B.div,{"aria-hidden":!0,...c,ref:n,style:{flexShrink:0,...c.style},onPointerDown:M(c.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(s,50))}),onPointerMove:M(c.onPointerMove,()=>{var d;(d=p.onItemLeave)==null||d.call(p),i.current===null&&(i.current=window.setInterval(s,50))}),onPointerLeave:M(c.onPointerLeave,()=>{a()})})}),ho="SelectSeparator",it=o.forwardRef((r,n)=>{const{__scopeSelect:t,...s}=r;return e.jsx(B.div,{"aria-hidden":!0,...s,ref:n})});it.displayName=ho;var Ie="SelectArrow",go=o.forwardRef((r,n)=>{const{__scopeSelect:t,...s}=r,c=he(t),p=Y(Ie,t),i=J(Ie,t);return p.open&&i.position==="popper"?e.jsx(_t,{...c,...s,ref:n}):null});go.displayName=Ie;function ct(r){return r===""||r===void 0}var dt=o.forwardRef((r,n)=>{const{value:t,...s}=r,c=o.useRef(null),p=W(n,c),i=Xt(t);return o.useEffect(()=>{const l=c.current,a=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(a,"value").set;if(i!==t&&v){const S=new Event("change",{bubbles:!0});v.call(l,t),l.dispatchEvent(S)}},[i,t]),e.jsx(Mt,{asChild:!0,children:e.jsx("select",{...s,ref:p,defaultValue:t})})});dt.displayName="BubbleSelect";function ut(r){const n=At(r),t=o.useRef(""),s=o.useRef(0),c=o.useCallback(i=>{const l=t.current+i;n(l),function a(d){t.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>a(""),1e3))}(l)},[n]),p=o.useCallback(()=>{t.current="",window.clearTimeout(s.current)},[]);return o.useEffect(()=>()=>window.clearTimeout(s.current),[]),[t,c,p]}function pt(r,n,t){const c=n.length>1&&Array.from(n).every(d=>d===n[0])?n[0]:n,p=t?r.indexOf(t):-1;let i=xo(r,Math.max(p,0));c.length===1&&(i=i.filter(d=>d!==t));const a=i.find(d=>d.textValue.toLowerCase().startsWith(c.toLowerCase()));return a!==t?a:void 0}function xo(r,n){return r.map((t,s)=>r[(n+s)%r.length])}var vo=Ve,mt=He,So=We,wo=Ke,bo=$e,ft=Ge,yo=Je,ht=Qe,gt=tt,Co=ot,No=nt,xt=st,vt=at,St=it;const jo=vo,Io=So,wt=o.forwardRef(({className:r,children:n,...t},s)=>e.jsxs(mt,{ref:s,className:G("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...t,children:[n,e.jsx(wo,{asChild:!0,children:e.jsx(Oe,{className:"h-4 w-4 opacity-50"})})]}));wt.displayName=mt.displayName;const bt=o.forwardRef(({className:r,...n},t)=>e.jsx(xt,{ref:t,className:G("flex cursor-default items-center justify-center py-1",r),...n,children:e.jsx(Yt,{className:"h-4 w-4"})}));bt.displayName=xt.displayName;const yt=o.forwardRef(({className:r,...n},t)=>e.jsx(vt,{ref:t,className:G("flex cursor-default items-center justify-center py-1",r),...n,children:e.jsx(Oe,{className:"h-4 w-4"})}));yt.displayName=vt.displayName;const Ct=o.forwardRef(({className:r,children:n,position:t="popper",...s},c)=>e.jsx(bo,{children:e.jsxs(ft,{ref:c,className:G("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:t,...s,children:[e.jsx(bt,{}),e.jsx(yo,{className:G("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),e.jsx(yt,{})]})}));Ct.displayName=ft.displayName;const To=o.forwardRef(({className:r,...n},t)=>e.jsx(ht,{ref:t,className:G("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...n}));To.displayName=ht.displayName;const Nt=o.forwardRef(({className:r,children:n,...t},s)=>e.jsxs(gt,{ref:s,className:G("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...t,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(No,{children:e.jsx(qt,{className:"h-4 w-4"})})}),e.jsx(Co,{children:n})]}));Nt.displayName=gt.displayName;const Po=o.forwardRef(({className:r,...n},t)=>e.jsx(St,{ref:t,className:G("-mx-1 my-1 h-px bg-muted",r),...n}));Po.displayName=St.displayName;const Ro=()=>{const{addCharacter:r}=kt(),{user:n}=ke(),t=Ot(),[s,c]=o.useState(""),[p,i]=o.useState("Anfibio"),[l,a]=o.useState(50),[d,v]=o.useState(""),[S,T]=o.useState(""),[I,N]=o.useState(""),[u,g]=o.useState(""),[w,m]=o.useState(!1),[f,L]=o.useState(null),[_,X]=o.useState("url"),[E,O]=o.useState(null),V=o.useRef(null),K=["Anfibio","Bagno","Tecnologia","Ladro","Sonoro","Indonesiano","Galattico","Musicale","Aereo"],F=x=>{var A;const P=((A=x.target.files)==null?void 0:A[0])||null;if(P){L(P);const R=new FileReader;R.onloadend=()=>{O(R.result)},R.readAsDataURL(P)}},H=x=>{if(x.preventDefault(),!n){re.error("Debes iniciar sesión para crear un personaje");return}if(!s||!d){re.error("Completa todos los campos obligatorios");return}if(_==="url"&&!S){re.error("Proporciona una URL de imagen");return}if(_==="upload"&&!f){re.error("Sube una imagen para el personaje");return}m(!0);try{let P="";_==="upload"&&E?P=E:_==="url"?P=S:P="/placeholder-character.png";const A=`${s} es un personaje de tipo ${p} con poderes extraordinarios. ${d}`,R=`custom_${Date.now().toString()}`;r({id:R,name:s,type:p,power:l,description:d,image:P,allies:I.split(",").map(D=>D.trim()).filter(Boolean),rivals:u.split(",").map(D=>D.trim()).filter(Boolean),biography:A,phrase:d.substring(0,50)+"...",appearances:[],abilities:[],votes:[],voteCount:0}),re.success("¡Personaje creado con éxito!"),t("/characters")}catch(P){re.error("Se produjo un error al crear el personaje"),console.error(P)}finally{m(!1)}};return e.jsxs("form",{onSubmit:H,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"name",children:"Nombre del personaje *"}),e.jsx(ae,{id:"name",value:s,onChange:x=>c(x.target.value),required:!0,className:"bg-brainrot-light border-gray-700 text-white"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"type",children:"Tipo *"}),e.jsxs(jo,{defaultValue:p,onValueChange:x=>i(x),children:[e.jsx(wt,{className:"bg-brainrot-light border-gray-700 text-white",children:e.jsx(Io,{placeholder:"Selecciona un tipo"})}),e.jsx(Ct,{className:"bg-brainrot-light border-gray-700 text-white",children:K.map(x=>e.jsx(Nt,{value:x,children:x},x))})]})]}),e.jsxs("div",{children:[e.jsxs(ee,{htmlFor:"power",children:["Poder: ",l]}),e.jsx(ae,{id:"power",type:"range",min:"1",max:"100",value:l,onChange:x=>a(parseInt(x.target.value)),className:"bg-brainrot-light border-gray-700"})]}),e.jsxs("div",{children:[e.jsx(ee,{children:"Imagen *"}),e.jsxs(Ht,{defaultValue:"url",value:_,onValueChange:X,className:"w-full",children:[e.jsxs(Ut,{className:"grid w-full grid-cols-2 bg-brainrot-light",children:[e.jsxs(_e,{value:"url",className:"data-[state=active]:bg-brainrot-blue",children:[e.jsx(zt,{className:"w-4 h-4 mr-2"}),"URL"]}),e.jsxs(_e,{value:"upload",className:"data-[state=active]:bg-brainrot-blue",children:[e.jsx(Jt,{className:"w-4 h-4 mr-2"}),"Subir"]})]}),e.jsxs(Me,{value:"url",className:"mt-2",children:[e.jsx(ae,{id:"image-url",value:S,onChange:x=>T(x.target.value),placeholder:"https://ejemplo.com/imagen.jpg",className:"bg-brainrot-light border-gray-700 text-white"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Introduce la URL de una imagen online o usa un servicio de alojamiento de imágenes"})]}),e.jsx(Me,{value:"upload",className:"mt-2",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ee,{type:"button",variant:"outline",onClick:()=>{var x;return(x=V.current)==null?void 0:x.click()},className:"bg-brainrot-light hover:bg-brainrot-light/80 border-gray-700 text-white",children:"Elegir archivo"}),e.jsx("span",{className:"text-sm text-gray-400",children:f?f.name:"Ningún archivo seleccionado"})]}),e.jsx("input",{type:"file",ref:V,onChange:F,accept:"image/*",className:"hidden"}),E&&e.jsxs("div",{className:"mt-2 border border-gray-700 rounded-md p-2",children:[e.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Vista previa:"}),e.jsx("img",{src:E,alt:"Vista previa",className:"max-h-40 rounded-md mx-auto"})]}),e.jsx("p",{className:"text-xs text-gray-400",children:"Formatos permitidos: JPG, PNG, WebP. Tamaño máximo: 5MB"})]})})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"description",children:"Descripción *"}),e.jsx(Be,{id:"description",value:d,onChange:x=>v(x.target.value),required:!0,rows:4,className:"bg-brainrot-light border-gray-700 text-white"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"allies",children:"Aliados (separados por comas)"}),e.jsx(ae,{id:"allies",value:I,onChange:x=>N(x.target.value),placeholder:"Aliado 1, Aliado 2, ...",className:"bg-brainrot-light border-gray-700 text-white"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"rivals",children:"Rivales (separados por comas)"}),e.jsx(ae,{id:"rivals",value:u,onChange:x=>g(x.target.value),placeholder:"Rival 1, Rival 2, ...",className:"bg-brainrot-light border-gray-700 text-white"})]}),e.jsx(Ee,{type:"submit",className:"w-full bg-brainrot-blue hover:bg-brainrot-blue/80",disabled:w,children:w?e.jsxs(e.Fragment,{children:[e.jsx(Vt,{className:"mr-2 h-4 w-4 animate-spin"}),"Creando personaje..."]}):"Crear personaje"})]})},ko=()=>{const{isAuthenticated:r}=ke();return r?e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"Crea un nuovo personaggio"}),e.jsx("p",{className:"text-gray-400 mb-8",children:"Aggiungi un nuovo personaggio all'universo di Bombardino. I migliori personaggi saranno selezionati e aggiunti ufficialmente al Brainrot Italiano."}),e.jsx("div",{className:"bg-brainrot-light p-6 rounded-lg",children:e.jsx(Ro,{})})]})}):e.jsx(Bt,{to:"/login"})};export{ko as default};
